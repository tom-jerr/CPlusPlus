# Linux高级环境编程作业
## 带缓存的文件操作类
- 实现一个带缓存的文件操作类；读写存入缓存，尽可能减少写盘和读盘
- 整个类只会操作一个文件
### 实现思路
- 构造Buffer类作为缓存
- CLFileOP类有两个缓存，一个读缓存，一个写缓存
  - 写缓存不需要信息，直接加入Buffer，Buffer满了直接写入磁盘
  - 读缓存需要缓存元数据信息，缓存更多数据
- 先写缓存，写缓存满了直接flush到磁盘上
- 读缓存满了后~~清除超过len的数据即可~~
  - 顺序写磁盘更能够节省时间，所以直接将整个缓存写入磁盘，重新加载读缓存
  - 重新加载读缓存的话，按照需要读取的长度二倍来读取，如果文件内容大于缓存大小的一半，只读缓存大小的一半

### 考虑加入
- 多线程读写缓存，加锁
- 每次读写有小缓存，最后写入大缓存，存在缓存一致性问题